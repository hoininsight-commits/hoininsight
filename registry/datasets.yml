# NOTE: This file is additive. New fields must be backward-compatible.

version: "v1.3"
policy:
  additive_only: true
  dedupe:
    enabled: true
    rule: "fingerprint(entity+ts+unit+source+metric_name)"
  derived_metrics:
    mark_is_derived: true
    require_derived_from: true

datasets:
  - dataset_id: "crypto_btc_usd_spot_coingecko"
    enabled: true
    soft_fail: true
    entity: "BTCUSD"
    unit: "USD"
    source: "coingecko"
    metric_name: "spot_price"
    schema_version: "timeseries_v1"
    collector: "src.collectors.coingecko_btc:write_raw_quote"
    normalizer: "src.normalizers.btc_curated:write_curated_csv"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "BTCUSD"
    curated_path: "data/curated/crypto/btc_usd.csv"

  - dataset_id: "fx_usdkrw_spot_open_er_api"
    enabled: false
    soft_fail: true
    entity: "USDKRW"
    unit: "KRW"
    source: "open.er-api.com"
    metric_name: "spot_rate"
    schema_version: "timeseries_v1"
    collector: "src.collectors.exchangerate_usdkrw:write_raw_usdkrw"
    normalizer: "src.normalizers.usdkrw_curated:write_curated_usdkrw_csv"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "USDKRW"
    curated_path: "data/curated/fx/usdkrw.csv"

  - dataset_id: "metal_gold_xauusd_spot_gold_api"
    enabled: false
    soft_fail: true
    entity: "XAUUSD"
    unit: "USD"
    source: "gold-api.com"
    metric_name: "spot_price"
    schema_version: "timeseries_v1"
    collector: "src.collectors.goldapi_xau:write_raw_xau_usd"
    normalizer: "src.normalizers.xau_curated:write_curated_xau_csv"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "XAUUSD"
    curated_path: "data/curated/metals/gold_usd.csv"

  - dataset_id: "metal_silver_xagusd_spot_gold_api"
    enabled: false
    soft_fail: true
    entity: "XAGUSD"
    unit: "USD"
    source: "gold-api.com"
    metric_name: "spot_price"
    schema_version: "timeseries_v1"
    collector: "src.collectors.goldapi_xag:write_raw_xag_usd"
    normalizer: "src.normalizers.xag_curated:write_curated_xag_csv"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "XAGUSD"
    curated_path: "data/curated/metals/silver_usd.csv"

  - dataset_id: "rates_us10y_fred"
    enabled: true
    soft_fail: true
    entity: "US10Y"
    unit: "PCT"
    source: "fred"
    metric_name: "yield"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_us10y"
    normalizer: "src.normalizers.fred_normalizers:normalize_us10y"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "US10Y"
    curated_path: "data/curated/rates/us10y.csv"

  - dataset_id: "risk_vix_index_stooq"
    enabled: false
    soft_fail: true
    entity: "VIX"
    unit: "INDEX"
    source: "stooq.com"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.stooq_vix:write_raw_vix"
    normalizer: "src.normalizers.vix_curated:write_curated_vix_csv"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "VIX"
    curated_path: "data/curated/risk/vix.csv"

  - dataset_id: "risk_vix_fred"
    enabled: true
    soft_fail: true
    entity: "VIX"
    unit: "INDEX"
    source: "fred"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_vix"
    normalizer: "src.normalizers.fred_normalizers:normalize_vix"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "VIX"
    curated_path: "data/curated/risk/vix.csv"

  - dataset_id: "index_spx_sp500_stooq"
    enabled: false
    soft_fail: true
    entity: "SPX"
    unit: "INDEX"
    source: "stooq.com"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.stooq_spx:write_raw_spx"
    normalizer: "src.normalizers.spx_curated:write_curated_spx_csv"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "SPX"
    curated_path: "data/curated/indices/spx.csv"

  - dataset_id: "index_spx_fred"
    enabled: true
    soft_fail: true
    entity: "SPX"
    unit: "INDEX"
    source: "fred"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_sp500"
    normalizer: "src.normalizers.fred_normalizers:normalize_sp500"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "SPX"
    curated_path: "data/curated/indices/spx.csv"

  - dataset_id: "index_kospi_stooq"
    enabled: true
    soft_fail: true
    entity: "KOSPI"
    unit: "INDEX"
    source: "stooq.com"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.stooq_kospi:write_raw_kospi"
    normalizer: "src.normalizers.kospi_curated:write_curated_kospi_csv"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "KOSPI"
    curated_path: "data/curated/indices/kospi.csv"

  - dataset_id: "derived_corr_btc_spx_30d"
    enabled: true
    soft_fail: true
    entity: "BTC_SPX_CORR30D"
    unit: "CORR"
    source: "derived"
    metric_name: "rolling_corr_30d"
    schema_version: "timeseries_v1"
    collector: "src.collectors.derived_corr_btc_spx:write_raw_corr_btc_spx_30d"
    normalizer: "src.normalizers.derived_corr_btc_spx_curated:write_curated_corr_btc_spx_30d"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "BTCxSPX_CORR30D"
    curated_path: "data/curated/derived/corr_btc_spx_30d.csv"

  - dataset_id: "derived_corr_usdkrw_us10y_30d"
    enabled: true
    soft_fail: true
    entity: "USDKRW_US10Y_CORR30D"
    unit: "CORR"
    source: "derived"
    metric_name: "rolling_corr_30d"
    schema_version: "timeseries_v1"
    collector: "src.collectors.derived_corr_usdkrw_us10y:write_raw_corr_usdkrw_us10y_30d"
    normalizer: "src.normalizers.derived_corr_usdkrw_us10y_curated:write_curated_corr_usdkrw_us10y_30d"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "USDKRWxUS10Y_CORR30D"
    curated_path: "data/curated/derived/corr_usdkrw_us10y_30d.csv"

  - dataset_id: "index_nasdaq_ndx_stooq"
    category: "GLOBAL_INDEX"
    enabled: false
    soft_fail: true
    entity: "NDX"
    unit: "INDEX"
    source: "stooq"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.market_collectors:write_raw_nasdaq"
    normalizer: "src.normalizers.market_normalizers:normalize_nasdaq"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "NASDAQ"
    curated_path: "data/curated/indices/nasdaq.csv"

  - dataset_id: "index_nasdaq_fred"
    category: "GLOBAL_INDEX"
    enabled: true
    soft_fail: true
    entity: "NDX"
    unit: "INDEX"
    source: "fred"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_nasdaq"
    normalizer: "src.normalizers.fred_normalizers:normalize_nasdaq"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "NASDAQ"
    curated_path: "data/curated/indices/nasdaq.csv"

  - dataset_id: "fx_dxy_index_stooq"
    category: "FX_RATES"
    enabled: true
    soft_fail: true
    entity: "DXY"
    unit: "INDEX"
    source: "stooq"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.market_collectors:write_raw_dxy"
    normalizer: "src.normalizers.market_normalizers:normalize_dxy"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "DXY"
    curated_path: "data/curated/fx/dxy.csv"

  - dataset_id: "rates_us02y_fred"
    category: "RATES_YIELD"
    enabled: true
    soft_fail: true
    entity: "US02Y"
    unit: "PCT"
    source: "fred"
    metric_name: "yield"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_us2y"
    normalizer: "src.normalizers.fred_normalizers:normalize_us2y"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "US02Y"
    curated_path: "data/curated/rates/us02y.csv"
    curated_path: "data/curated/rates/us02y.csv"

  - dataset_id: "comm_wti_crude_oil_stooq"
    category: "COMMODITIES"
    enabled: false
    soft_fail: true
    entity: "WTI"
    unit: "USD"
    source: "stooq"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.market_collectors:write_raw_wti"
    normalizer: "src.normalizers.market_normalizers:normalize_wti"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "WTI"
    curated_path: "data/curated/commodities/wti.csv"

  - dataset_id: "comm_wti_fred"
    category: "COMMODITIES"
    enabled: true
    soft_fail: true
    entity: "WTI"
    unit: "USD"
    source: "fred"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_wti"
    normalizer: "src.normalizers.fred_normalizers:normalize_wti"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "WTI"
    curated_path: "data/curated/commodities/wti.csv"

  - dataset_id: "metal_platinum_xptusd_stooq"
    category: "PRECIOUS_METALS"
    enabled: true
    soft_fail: true
    entity: "XPTUSD"
    unit: "USD"
    source: "stooq"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.market_collectors:write_raw_platinum"
    normalizer: "src.normalizers.market_normalizers:normalize_platinum"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "PLATINUM"
    curated_path: "data/curated/metals/platinum.csv"

  - dataset_id: "metal_gold_paxg_coingecko"
    category: "PRECIOUS_METALS"
    enabled: true
    soft_fail: true
    entity: "XAUUSD"
    unit: "USD"
    source: "coingecko"
    metric_name: "spot_price"
    schema_version: "timeseries_v1"
    collector: "src.collectors.market_collectors:write_raw_gold_paxg"
    normalizer: "src.normalizers.market_normalizers:normalize_gold_paxg"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "GOLD"
    curated_path: "data/curated/metals/gold_usd.csv"

  - dataset_id: "metal_silver_kag_coingecko"
    category: "PRECIOUS_METALS"
    enabled: true
    soft_fail: true
    entity: "XAGUSD"
    unit: "USD"
    source: "coingecko"
    metric_name: "spot_price"
    schema_version: "timeseries_v1"
    collector: "src.collectors.market_collectors:write_raw_silver_kag"
    normalizer: "src.normalizers.market_normalizers:normalize_silver_kag"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "SILVER"
    curated_path: "data/curated/metals/silver_usd.csv"

  - dataset_id: "metal_gold_fred"
    category: "PRECIOUS_METALS"
    enabled: false
    soft_fail: true
    entity: "XAUUSD"
    unit: "USD"
    source: "fred"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_gold"
    normalizer: "src.normalizers.fred_normalizers:normalize_gold"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "GOLD"
    curated_path: "data/curated/metals/gold_usd.csv"

    category: "PRECIOUS_METALS"
    enabled: false
    soft_fail: true
    entity: "XAUUSD"
    unit: "USD"
    source: "coingecko"
    metric_name: "spot_price"
    schema_version: "timeseries_v1"
    collector: "src.collectors.market_collectors:write_raw_gold_paxg"
    normalizer: "src.normalizers.market_normalizers:normalize_gold_paxg"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "GOLD"
    curated_path: "data/curated/metals/gold_usd.csv"

  - dataset_id: "metal_silver_kag_coingecko"
    category: "PRECIOUS_METALS"
    enabled: true
    soft_fail: true
    entity: "XAGUSD"
    unit: "USD"
    source: "coingecko"
    metric_name: "spot_price"
    schema_version: "timeseries_v1"
    collector: "src.collectors.market_collectors:write_raw_silver_kag"
    normalizer: "src.normalizers.market_normalizers:normalize_silver_kag"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "SILVER"
    curated_path: "data/curated/metals/silver_usd.csv"

  - dataset_id: "metal_silver_fred"
    category: "PRECIOUS_METALS"
    enabled: false
    soft_fail: true
    entity: "XAGUSD"
    unit: "USD"
    source: "fred"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_silver"
    normalizer: "src.normalizers.fred_normalizers:normalize_silver"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "SILVER"
    curated_path: "data/curated/metals/silver_usd.csv"

  - dataset_id: "crypto_eth_usd_spot_coingecko"
    category: "CRYPTO"
    enabled: true
    soft_fail: true
    entity: "ETHUSD"
    unit: "USD"
    source: "coingecko"
    metric_name: "spot_price"
    schema_version: "timeseries_v1"
    collector: "src.collectors.market_collectors:write_raw_eth"
    normalizer: "src.normalizers.market_normalizers:normalize_eth"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "ETHUSD"
    curated_path: "data/curated/crypto/eth_usd.csv"


  - dataset_id: "rates_kor_base_rate_ecos"
    category: "RATES_YIELD"
    enabled: true
    soft_fail: true
    entity: "KOR_BASE_RATE"
    unit: "PCT"
    source: "ecos"
    metric_name: "base_rate"
    schema_version: "timeseries_v1"
    collector: "src.collectors.ecos_collector:write_raw_base_rate"
    normalizer: "src.normalizers.ecos_normalizers:normalize_base_rate"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "KOR_RATE"
    curated_path: "data/curated/ecos/rates/korea_base_rate.csv"

  - dataset_id: "inflation_kor_cpi_ecos"
    category: "INFLATION"
    enabled: true
    soft_fail: true
    entity: "KOR_CPI"
    unit: "INDEX"
    source: "ecos"
    metric_name: "cpi"
    schema_version: "timeseries_v1"
    collector: "src.collectors.ecos_collector:write_raw_cpi"
    normalizer: "src.normalizers.ecos_normalizers:normalize_cpi"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "KOR_CPI"
    curated_path: "data/curated/ecos/inflation/korea_cpi.csv"

  - dataset_id: "fx_usdkrw_ecos"
    category: "FX_RATES"
    enabled: true
    soft_fail: true
    entity: "USDKRW"
    unit: "KRW"
    source: "ecos"
    metric_name: "close"
    schema_version: "timeseries_v1"
    collector: "src.collectors.ecos_collector:write_raw_usdkrw"
    normalizer: "src.normalizers.ecos_normalizers:normalize_usdkrw"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "USDKRW_ECOS"
    curated_path: "data/curated/ecos/fx/usdkrw.csv"

  - dataset_id: "rates_fed_funds_fred"
    category: "RATES_YIELD"
    enabled: true
    soft_fail: true
    entity: "FEDFUNDS"
    unit: "PCT"
    source: "fred"
    metric_name: "interest_rate"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_fed_funds"
    normalizer: "src.normalizers.fred_normalizers:normalize_fed_funds"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "FED_FUNDS"
    curated_path: "data/curated/rates/fed_funds.csv"

  - dataset_id: "inflation_cpi_fred"
    category: "INFLATION"
    enabled: true
    soft_fail: true
    entity: "CPI_USA"
    unit: "INDEX"
    source: "fred"
    metric_name: "cpi"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_cpi"
    normalizer: "src.normalizers.fred_normalizers:normalize_cpi"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "CPI_USA"
    curated_path: "data/curated/inflation/cpi_usa.csv"

  - dataset_id: "inflation_pce_fred"
    category: "INFLATION"
    enabled: true
    soft_fail: true
    entity: "PCE_USA"
    unit: "USD_BN"
    source: "fred"
    metric_name: "pce"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_pce"
    normalizer: "src.normalizers.fred_normalizers:normalize_pce"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "PCE_USA"
    curated_path: "data/curated/inflation/pce_usa.csv"

  - dataset_id: "liquidity_m2_fred"
    category: "LIQUIDITY"
    enabled: true
    soft_fail: true
    entity: "M2_USA"
    unit: "USD_BN"
    source: "fred"
    metric_name: "money_supply"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_m2"
    normalizer: "src.normalizers.fred_normalizers:normalize_m2"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "M2_USA"
    curated_path: "data/curated/liquidity/m2_usa.csv"

  - dataset_id: "employment_unrate_fred"
    category: "EMPLOYMENT"
    enabled: true
    soft_fail: true
    entity: "UNRATE_USA"
    unit: "PCT"
    source: "fred"
    metric_name: "unemployment_rate"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_unrate"
    normalizer: "src.normalizers.fred_normalizers:normalize_unrate"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "UNRATE"
    curated_path: "data/curated/employment/unrate_usa.csv"

  - dataset_id: "credit_hy_spread_fred"
    category: "CREDIT"
    enabled: true
    soft_fail: true
    entity: "HY_SPREAD_USA"
    unit: "PCT"
    source: "fred"
    metric_name: "spread"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_hy_spread"
    normalizer: "src.normalizers.fred_normalizers:normalize_hy_spread"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "HY_SPREAD"
    curated_path: "data/curated/credit/hy_spread_usa.csv"

  - dataset_id: "risk_financial_stress_fred"
    category: "RISK_METRICS"
    enabled: true
    soft_fail: true
    entity: "FIN_STRESS_USA"
    unit: "INDEX"
    source: "fred"
    metric_name: "stress_index"
    schema_version: "timeseries_v1"
    collector: "src.collectors.fred_collector:write_raw_financial_stress"
    normalizer: "src.normalizers.fred_normalizers:normalize_financial_stress"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "FIN_STRESS"
    curated_path: "data/curated/risk/financial_stress_usa.csv"

  # --- Derived Datasets ---
  - dataset_id: "derived_yield_curve_10y_2y"
    category: "RATES_YIELD"
    enabled: true
    soft_fail: true
    entity: "SPREAD_10Y_2Y"
    unit: "PCT"
    source: "hoin_logic_engine"
    metric_name: "spread"
    schema_version: "timeseries_v1"
    collector: "src.pipeline.derived_metrics_engine:run_derived_metrics_wrapper" # Logic engine runs via pipeline, this is placeholder or trigger
    normalizer: "src.normalizers.pass_through:pass_through"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "YIELD_CURVE"
    curated_path: "data/curated/derived/rates/yield_curve_10y_2y.csv"

  - dataset_id: "derived_gold_silver_ratio"
    category: "PRECIOUS_METALS"
    enabled: true
    soft_fail: true
    entity: "GOLD_SILVER_RATIO"
    unit: "RATIO"
    source: "hoin_logic_engine"
    metric_name: "ratio"
    schema_version: "timeseries_v1"
    collector: "src.pipeline.derived_metrics_engine:run_derived_metrics_wrapper"
    normalizer: "src.normalizers.pass_through:pass_through"
    anomaly: "src.anomaly_detectors.z_score_detector:detect_z_score"
    topic: "src.topic_selectors.simple_topic:select_topics"
    report_key: "GS_RATIO"
    curated_path: "data/curated/derived/metals/gold_silver_ratio.csv"
