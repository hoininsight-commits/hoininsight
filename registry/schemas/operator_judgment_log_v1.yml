version: "1.0"
type: "log"
name: "operator_judgment_log"
description: "Append-only log for daily operator judgments and engine decisions (Step 97)."

fields:
  date:
    type: string
    format: date
    required: true
    description: "YYYY-MM-DD"
  
  time:
    type: string
    format: time
    required: true
    description: "HH:MM (local)"
  
  engine_state:
    type: string
    required: true
    enum: ["STEP_96_LOCKED"]
    description: "Must always be STEP_96_LOCKED for this version"

  topic_id:
    type: string
    required: true
    description: "The topic ID being decided on, or NO_TOPIC"

  engine_decision:
    type: string
    required: true
    enum: ["LOCK", "PASS", "NO_TOPIC"]
    description: "What the engine decided"

  why_now_summary:
     type: string
     required: true
     description: "Human readable summary of why now"

  operator_action:
    type: string
    required: true
    enum: ["PROCEED", "HOLD", "REJECT"]
    description: "Default action taken by operator (HOLD default for auto-runs)"

  operator_comment:
    type: string
    required: true
    description: "Optional comment or context"

  continuity_flag:
    type: boolean
    required: true
    const: true
    description: "Must be true to indicate continuity check passed"
