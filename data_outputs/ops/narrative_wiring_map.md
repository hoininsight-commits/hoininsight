# Narrative Score Wiring Map & SSOT Analysis

## A) SSOT Calculation Source
- **File**: `src/ops/narrative_intelligence_layer.py`
- **Class/Function**: `NarrativeIntelligenceLayer` / `process_topics()`
- **Logic**: Reads `data/ops/issuesignal_today.json`, iterates through `cards`, and calculates `narrative_score` based on `intensity`, `actor_tier_score`, `flow_score`, `policy_score`, and `persistence_score`.

## B) Pipeline Invocation
- **File**: `src/ops/run_daily_pipeline.py`
- **Function**: `run_narrative_intelligence()`
- **Execution Point**: Runs as "Phase 12" near the very end of the pipeline, specifically after the Issue Signal engine (`run_issue_signal()`) has written its predictions.

## C) Storage Strategy & The Disconnect
- **Output Artifact**: The evaluated topics are saved specifically to `data/ops/narrative_intelligence_v2.json`.
- **The Disconnect**: 
  - The UI manifest publisher (`src/ui/run_publish_ui_decision_assets.py`) relies exclusively on `data/decision/final_decision_card.json` and `topic_speakability_today.json` to generate the final `today.json`.
  - The `final_decision_card.json` is generated by Decision Assembly (`src/decision/run_is96_4.py`), which has no knowledge of the Narrative Intelligence layer.
  - No subsequent script or step ever opens `data/ops/narrative_intelligence_v2.json` to merge its `narrative_score` data into the canonical UI stream. 
- **Conclusion**: The metric is calculated, but its container file operates in a complete vacuum.
